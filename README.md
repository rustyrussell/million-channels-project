# million-channels-project
Creating a test corpus for a lightning network with 1M public channels

The project has several parts:

1. powerLawReg.py: rough analysis of the current lightning network: number of
   (public) channels, number of nodes, distribution of channels by
   node, and distribution of channels in blocks. 

2. buildNetwork.py: Applies a scaling factor to make a similar network on regtest

3. gossip.py: Generates all the gossip generated by that network.
    1. python3 gossip.py
    2. A sample of the gossip produced can be found in data/1M.gossip. This file is zipped. Unzip it.
    3. rename the unzipped file gossip_store and copy it into .lightning directory that you are working in. 
    4. You MUST use this fork of c-lightning: https://github.com/nettijoe96/lightning 
        Compile with:
        `./configure --enable-MCP`
    5. Run clightning, point it to the right .lightning directory, and watch it load gossip. If done correctly, ./lightning-cli listchannels  should return close to 1000000 channels  

4. scrapeConnectedNodes.py: Connects to nodes in lightning network that are scraped from node files


The goal of this project is to create a test network with an accurate topology extrapolated from the current topology. 
This network will be used for testing routing algorithms and channel syncing.


